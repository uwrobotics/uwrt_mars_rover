<?xml version="1.0"?>
<robot name="rrbot" xmlns:xacro="http://www.ros.org/wiki/xacro">
  <!-- base link-->
  <link name="base_link">
    <visual>
      <origin xyz="0.0 0.0 0.0" rpy="0.0 0.0 0.0"/>
      <geometry>
        <box size="1.5 1.0 0.5"/>
      </geometry>
    </visual>
    <collision>
    <origin xyz="0.0 0.0 0.0" rpy="0.0 0.0 0.0"/>
      <geometry>
        <box size="1.5 1.0 0.5"/>
      </geometry>
    </collision>
    <inertial>
      <origin xyz="0 0 0" rpy="0 0 0"/>
       <mass value="1"/>
       <inertia
        ixx="1.0" ixy="0.0" ixz="0.0"
        iyy="1.0" iyz="0.0"
        izz="1.0"/>
    </inertial>
  </link>

  <!-- left joint-->
  <joint name="left_middle_wheel_joint" type="continuous">
   <parent link="base_link"/>
   <child link="left_middle_wheel"/>
   <origin xyz="0.00 0.50 0.0" rpy="-1.570796 0.0 0.0"/>
  </joint>

  <!-- left link -->
  <link name="left_middle_wheel">
    <visual>
      <origin xyz="0.0 0.00 0.05"/>
      <geometry>
        <cylinder radius="0.3" length="0.1"/>
      </geometry>
    </visual>
    <collision>
      <origin xyz="0.0 0.00 0.05"/>
      <geometry>
        <cylinder radius="0.3" length="0.1"/>
      </geometry>
    </collision>
    <inertial>
      <origin xyz="0 0 0" rpy="0 0 0"/>
       <mass value="1"/>
       <inertia
        ixx="1.0" ixy="0.0" ixz="0.0"
        iyy="1.0" iyz="0.0"
        izz="1.0"/>
    </inertial>
  </link>
  
<!-- right joint-->
  <joint name="right_middle_wheel_joint" type="continuous">
   <parent link="base_link"/>
   <child link="right_middle_wheel"/>
   <origin xyz="0.00 -0.5 0" rpy="1.570796 0.0 0.0"/>
  </joint> 

  <!-- right link -->
  <link name="right_middle_wheel">
    <visual>
      <origin xyz="0.0 0.00 0.05"/>
      <geometry>
        <cylinder radius="0.3" length="0.1"/>
      </geometry>
    </visual>
    <collision>
      <origin xyz="0.0 0.00 0.05"/>
      <geometry>
        <cylinder radius="0.3" length="0.1"/>
      </geometry>
    </collision>
    <inertial>
      <origin xyz="0 0 0" rpy="0 0 0"/>
       <mass value="1"/>
       <inertia
        ixx="1.0" ixy="0.0" ixz="0.0"
        iyy="1.0" iyz="0.0"
        izz="1.0"/>
    </inertial>
  </link> 

  <!-- left middle joint -->
  <joint name="left_rear_wheel_joint" type="continuous">
     <parent link="base_link"/>
     <child link="left_rear_wheel"/>
     <origin xyz="0.65 0.50 0.0" rpy="-1.570796 0.0 0.0"/>
  </joint>

 <!-- left middle wheel link -->
  <link name="left_rear_wheel">
    <visual>
      <origin xyz="0.0 0.00 0.05"/>
      <geometry>
        <cylinder radius="0.3" length="0.1"/>
      </geometry>
    </visual>
    <collision>
      <origin xyz="0.0 0.00 0.05"/>
      <geometry>
        <cylinder radius="0.3" length="0.1"/>
      </geometry>
    </collision>
    <inertial>
      <origin xyz="0 0 0" rpy="0 0 0"/>
       <mass value="1"/>
       <inertia
        ixx="1.0" ixy="0.0" ixz="0.0"
        iyy="1.0" iyz="0.0"
        izz="1.0"/>
    </inertial>
  </link>
  

<!-- left rear joint -->
  <joint name="left_front_wheel_joint" type="continuous">
   <parent link="base_link"/>
   <child link="left_front_wheel"/>
   <origin xyz="-0.65 0.50 0.0" rpy="-1.570796 0.0 0.0"/>
  </joint>

<!-- left rear wheel -->
    <link name="left_front_wheel">
    <visual>
      <origin xyz="0.0 0.00 0.05"/>
      <geometry>
        <cylinder radius="0.3" length="0.1"/>
      </geometry>
    </visual>
    <collision>
      <origin xyz="0.0 0.00 0.05"/>
      <geometry>
        <cylinder radius="0.3" length="0.1"/>
      </geometry>
    </collision>
    <inertial>
      <origin xyz="0 0 0" rpy="0 0 0"/>
       <mass value="1"/>
       <inertia
        ixx="1.0" ixy="0.0" ixz="0.0"
        iyy="1.0" iyz="0.0"
        izz="1.0"/>
    </inertial>
  </link>

  <!-- right middle joint -->
  <joint name="right_rear_wheel_joint" type="continuous">
   <parent link="base_link"/>
   <child link="right_rear_wheel"/>
   <origin xyz="0.65 -0.5 0" rpy="1.570796 0.0 0.0"/>
  </joint> 

  <!-- right middle wheel link -->
  <link name="right_rear_wheel">
    <visual>
      <origin xyz="0.0 0.00 0.05"/>
      <geometry>
        <cylinder radius="0.3" length="0.1"/>
      </geometry>
    </visual>
    <collision>
      <origin xyz="0.0 0.00 0.05"/>
      <geometry>
        <cylinder radius="0.3" length="0.1"/>
      </geometry>
    </collision>
    <inertial>
      <origin xyz="0 0 0" rpy="0 0 0"/>
       <mass value="1"/>
       <inertia
        ixx="1.0" ixy="0.0" ixz="0.0"
        iyy="1.0" iyz="0.0"
        izz="1.0"/>
    </inertial>
  </link>

<!-- right rear joint -->
<joint name="right_front_wheel_joint" type="continuous">
   <parent link="base_link"/>
   <child link="right_front_wheel"/>
   <origin xyz="-0.65 -0.5 0" rpy="1.570796 0.0 0.0"/>
</joint> 

<!--right rear wheel -->
<link name="right_front_wheel">
    <visual>
      <origin xyz="0.0 0.00 0.05"/>
      <geometry>
        <cylinder radius="0.3" length="0.1"/>
      </geometry>
    </visual>
    <collision>
      <origin xyz="0.0 0.00 0.05"/>
      <geometry>
        <cylinder radius="0.3" length="0.1"/>
      </geometry>
    </collision>
    <inertial>
      <origin xyz="0 0 0" rpy="0 0 0"/>
       <mass value="1"/>
       <inertia
        ixx="1.0" ixy="0.0" ixz="0.0"
        iyy="1.0" iyz="0.0"
        izz="1.0"/>
    </inertial>
  </link>

    <gazebo reference="base_link">
      <material>Gazebo/Orange</material>
    </gazebo>

    <gazebo reference="left_front_wheel">
      <material>Gazebo/Black</material>
    </gazebo>

    <gazebo reference="left_rear_wheel">
      <material>Gazebo/Black</material>
    </gazebo>
    <gazebo reference="left_middle_wheel">
      <material>Gazebo/Black</material>
    </gazebo>
    <gazebo reference="right_front_wheel">
      <material>Gazebo/Black</material>
    </gazebo>
    <gazebo reference="right_rear_wheel">
      <material>Gazebo/Black</material>
    </gazebo>
    <gazebo reference="right_middle_wheel">
      <material>Gazebo/Black</material>
    </gazebo>
   

   <!-- actuator 1 -->
    <ros2_control name="actuator_front_left" type="actuator">
      <hardware>
       <class>uwrt_mars_rover_drivetrain_hw/UWRTMarsRoverDrivetrainHardwareReal</class>
       <param name="can_interface"> 0 </param>
       <param name="can_index"> 0 </param>
      </hardware>
      <joint name="left_front_wheel_joint">
        <command_interface name="velocity"/>
        <state_interface name="velocity"/>
      </joint>
      <transmission name = "transmission_front_left">
        <plugin>transmission_interface/SimpleTransmission</plugin>
        <param name="mechanical_reduction">0.43</param>
      </transmission>
    </ros2_control>

    <!-- actuator 2-->
    <ros2_control name="actuator_front_right" type="actuator">
      <hardware>
       <plugin>uwrt_mars_rover_drivetrain_hw/UWRTMarsRoverDrivetrainHardwareReal</plugin>
       <param name="can_interface"> 1 </param>
       <param name="can_index"> 1 </param>
      </hardware>
      <joint name="right_front_wheel_joint">
        <command_interface name="velocity"/>
        <state_interface name="velocity"/>
      </joint>
      <transmission name = "transmission_front_right">
        <plugin>transmission_interface/SimpleTransmission</plugin>
        <param name="mechanical_reduction">0.43</param>
      </transmission>
    </ros2_control>  

    <!-- actuator 3-->
    <ros2_control name="actuator_rear_left" type="actuator">
      <hardware>
       <plugin>uwrt_mars_rover_drivetrain_hw/UWRTMarsRoverDrivetrainHardwareReal</plugin>
       <param name="can_interface"> 2 </param>
       <param name="can_index"> 2 </param>
      </hardware>
      <joint name="left_rear_wheel_joint">
        <command_interface name="velocity"/>
        <state_interface name="velocity"/>
      </joint>
      <transmission name = "transmission_rear_left">
        <plugin>transmission_interface/SimpleTransmission</plugin>
        <param name="mechanical_reduction">0.43</param>
      </transmission>
    </ros2_control>  

    <!-- actuator 4-->
    <ros2_control name="actuator_rear_right" type="actuator">
      <hardware>
       <plugin>uwrt_mars_rover_drivetrain_hw/UWRTMarsRoverDrivetrainHardwareReal</plugin>
       <param name="can_interface"> 3 </param>
       <param name="can_index"> 3 </param>
      </hardware>
      <joint name="right_rear_wheel_joint">
        <command_interface name="velocity"/>
        <state_interface name="velocity"/>
      </joint>
      <transmission name = "transmission_rear_right">
        <plugin>transmission_interface/SimpleTransmission</plugin>
        <param name="mechanical_reduction">0.43</param>
      </transmission>
    </ros2_control>

   <!-- actuator 5 -->
    <ros2_control name="actuator_front_left" type="actuator">
      <hardware>
       <plugin>uwrt_mars_rover_drivetrain_hw/UWRTMarsRoverDrivetrainHardwareReal</plugin>
       <param name="can_interface"> 0 </param>
       <param name="can_index"> 0 </param>
      </hardware>
      <joint name="left_middle_wheel_joint">
        <command_interface name="velocity"/>
        <state_interface name="velocity"/>
      </joint>
      <transmission name = "transmission_front_left">
        <plugin>transmission_interface/SimpleTransmission</plugin>
        <param name="mechanical_reduction">0.43</param>
      </transmission>
    </ros2_control>

    <!-- actuator 6 -->
    <ros2_control name="actuator_front_right" type="actuator">
      <hardware>
       <plugin>uwrt_mars_rover_drivetrain_hw/UWRTMarsRoverDrivetrainHardwareReal</plugin>
       <param name="can_interface"> 1 </param>
       <param name="can_index"> 1 </param>
      </hardware>
      <joint name="right_middle_wheel_joint">
        <command_interface name="velocity"/>
        <state_interface name="velocity"/>
      </joint>
      <transmission name = "transmission_front_right">
        <plugin>transmission_interface/SimpleTransmission</plugin>
        <param name="mechanical_reduction">0.43</param>
      </transmission>
    </ros2_control> 

</robot>
